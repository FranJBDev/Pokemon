{"ast":null,"code":"var _jsxFileName = \"/home/gandhyman/PI2/client/src/components/PokemonCreate.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { postPokemon, getTypes, getPokemons } from '../redux/actions';\nimport validate from './validate.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PokemonCreate() {\n  _s();\n\n  const dispatch = useDispatch();\n  const types = useSelector(state => state.types);\n  const pokemons = useSelector(state => state.allPokemons.map(pok => pok.name));\n  const history = useHistory();\n  const [errors, setErrors] = useState({});\n  const [input, setInput] = useState({\n    name: '',\n    hp: '',\n    attack: '',\n    defense: '',\n    speed: '',\n    weight: '',\n    height: '',\n    types: []\n  });\n  useEffect(() => {\n    dispatch(getTypes());\n  }, [dispatch]);\n\n  function handleChange(e) {\n    setInput({ ...input,\n      [e.target.name]: e.target.value.replaceAll(/^\\s+/g, \"\").replaceAll(/\\s+/g, \" \")\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }, pokemons));\n  }\n\n  function handleChecked(e) {\n    if (e.target.checked) {\n      setInput({ ...input,\n        types: [...input.types, e.target.value]\n      });\n      setErrors(validate({ ...input,\n        types: [...input.types, e.target.value]\n      }, pokemons));\n    } else if (!e.target.checked) {\n      setInput({ ...input,\n        types: input.types.filter(el => el !== e.target.value)\n      });\n      setErrors(validate({ ...input,\n        types: input.types.filter(el => el !== e.target.value)\n      }, pokemons));\n    }\n  }\n\n  ;\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (Object.keys(errors).length === 0 && input.name.length) {\n      dispatch(postPokemon(input));\n      dispatch(getPokemons());\n      alert(\"Good job!\", \"Pokemon created successfuly!\", \"success\");\n      setInput({\n        name: '',\n        hp: '',\n        attack: '',\n        defense: '',\n        speed: '',\n        weight: '',\n        height: '',\n        types: []\n      });\n      history.push(\"/home\");\n    } else {\n      alert(\"You must choose at least one type!\", \"\", \"error\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/home\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 31\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create pokemon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: input.name,\n          name: \"name\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 40\n        }, this), errors.name ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this) : input.name.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"Good\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 45\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"  Empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Hp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: input.hp,\n            name: \"hp\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), errors.hp ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: errors.hp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this) : input.hp.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Good\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 47\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 61\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Attack\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: input.attack,\n            name: \"attack\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), errors.attack ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: errors.attack\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this) : input.attack.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Good\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 51\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 65\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Defense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: input.defense,\n            name: \"defense\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), errors.defense ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: errors.defense\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this) : input.defense.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Good\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 66\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Speed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: input.speed,\n            name: \"speed\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), errors.speed ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: errors.speed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 33\n          }, this) : input.speed.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Good\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 54\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 68\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Weight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: input.weight,\n            name: \"weight\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), errors.weight ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: errors.weight\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 33\n          }, this) : input.weight.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Good\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 55\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 69\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Height\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: input.height,\n            name: \"height\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), errors.height ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: errors.height\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 33\n          }, this) : input.height.length ? /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Good\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 55\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 69\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Choose up to 2 Pokemon types\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: types.map(type => /*#__PURE__*/_jsxDEV(\"label\", {\n              for: type.name,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: type.name,\n                  value: type.name,\n                  onChange: e => handleChecked(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 41\n                }, this), type.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this), errors.types ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: errors.types\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Select only two\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PokemonCreate, \"fMOx7p37nv7ETV49XKuAr1mZ584=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useHistory];\n});\n\n_c = PokemonCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"PokemonCreate\");","map":{"version":3,"sources":["/home/gandhyman/PI2/client/src/components/PokemonCreate.jsx"],"names":["React","useState","useEffect","Link","useHistory","useDispatch","useSelector","postPokemon","getTypes","getPokemons","validate","PokemonCreate","dispatch","types","state","pokemons","allPokemons","map","pok","name","history","errors","setErrors","input","setInput","hp","attack","defense","speed","weight","height","handleChange","e","target","value","replaceAll","handleChecked","checked","filter","el","handleSubmit","preventDefault","Object","keys","length","alert","push","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { postPokemon, getTypes, getPokemons } from '../redux/actions';\nimport validate from './validate.js';\n\nexport default function PokemonCreate() {\n    const dispatch = useDispatch();\n    const types = useSelector(state => state.types)\n    const pokemons = useSelector(state => state.allPokemons.map(pok => pok.name))\n    const history = useHistory()\n\n    const [errors, setErrors] = useState({})\n\n    const [input, setInput] = useState({\n        name: '', hp: '', attack: '', defense: '',\n        speed: '', weight: '', height: '', types: [],\n    })\n\n    useEffect(() => {\n        dispatch(getTypes());\n    }, [dispatch]);\n\n    function handleChange(e) {\n        setInput({\n            ...input,\n            [e.target.name]: e.target.value.replaceAll(/^\\s+/g, \"\").replaceAll(/\\s+/g, \" \")\n        })\n\n        setErrors(validate({\n            ...input,\n            [e.target.name]: e.target.value\n        }, pokemons))\n    }\n\n    function handleChecked(e) {\n        if (e.target.checked) {\n            setInput({\n                ...input,\n                types: [...input.types, e.target.value]\n            })\n\n            setErrors(validate({\n                ...input,\n                types: [...input.types, e.target.value]\n            }, pokemons))\n\n        } else if (!e.target.checked) {\n            setInput({\n                ...input,\n                types: input.types.filter(el => el !== e.target.value)\n            })\n\n            setErrors(validate({\n                ...input,\n                types: input.types.filter(el => el !== e.target.value)\n            }, pokemons))\n        }\n    };\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        if (Object.keys(errors).length === 0 && input.name.length) {\n            dispatch(postPokemon(input));\n            dispatch(getPokemons());\n            alert(\"Good job!\", \"Pokemon created successfuly!\", \"success\");\n            setInput({\n                name: '',\n                hp: '',\n                attack: '',\n                defense: '',\n                speed: '',\n                weight: '',\n                height: '',\n                types: [],\n            })\n            history.push(\"/home\")\n        } else {\n            alert(\"You must choose at least one type!\", \"\", \"error\");\n        }\n    }\n\n    return (\n        <div><Link to='/home'><button>Return</button></Link>\n            <div> <h2>Create pokemon</h2>\n                <form onSubmit={(e) => handleSubmit(e)}>\n                    <label>Name</label><input\n                        type=\"text\"\n                        value={input.name}\n                        name=\"name\"\n                        onChange={(e) => handleChange(e)}\n                    />\n                    {errors.name ? (\n                        <div>\n                            <p>{errors.name}</p>\n                        </div>\n                    ) : input.name.length ? <i>Good</i> : <i>  Empty</i>\n                    }\n                    <div>\n                        <label>Hp</label>\n                        <input\n                            type=\"number\"\n                            value={input.hp}\n                            name=\"hp\"\n                            onChange={(e) => handleChange(e)}\n\n                        />\n                        {errors.hp ? (\n                            <div>\n                                <i ></i>\n                                <p>{errors.hp}</p>\n                            </div>\n                        ) :\n                            input.hp.length ? <i>Good</i> : <i>  Empty</i>\n                        }\n                    </div>\n                    <div>\n                        <label>Attack</label>\n                        <input\n                            type=\"number\"\n                            value={input.attack}\n                            name=\"attack\"\n                            onChange={(e) => handleChange(e)}\n                        />\n                        {errors.attack ? (\n                            <div>\n                                <i></i>\n                                <p>{errors.attack}</p>\n                            </div>\n                        ) :\n                            input.attack.length ? <i>Good</i> : <i>  Empty</i>\n                        }\n                    </div>\n                    <div >\n                        <label>Defense</label>\n                        <input\n                            type=\"number\"\n                            value={input.defense}\n                            name=\"defense\"\n                            onChange={(e) => handleChange(e)}\n                        />\n                        {errors.defense ? (\n                            <div>\n                                <i ></i>\n                                <p>{errors.defense}</p>\n                            </div>\n                        ) :\n                            input.defense.length ? <i>Good</i> : <i>  Empty</i>\n                        }\n                    </div>\n                    <div>\n                        <label>Speed</label>\n                        <input\n                            type=\"number\"\n                            value={input.speed}\n                            name=\"speed\"\n                            onChange={(e) => handleChange(e)}\n                        />\n                        {\n                            errors.speed ? (\n                                <div>\n                                    <i ></i>\n                                    <p>{errors.speed}</p>\n                                </div>\n                            ) :\n                                input.speed.length ? <i>Good</i> : <i>  Empty</i>\n                        }\n                    </div>\n                    <div >\n                        <label>Weight</label>\n                        <input\n                            type=\"number\"\n                            value={input.weight}\n                            name=\"weight\"\n                            onChange={(e) => handleChange(e)}\n                        />\n                        {\n                            errors.weight ? (\n                                <div>\n                                    <i></i>\n                                    <p>{errors.weight}</p>\n                                </div>\n                            ) :\n                                input.weight.length ? <i>Good</i> : <i>  Empty</i>\n\n                        }\n                    </div>\n                    <div>\n                        <label>Height</label>\n                        <input\n                            type=\"number\"\n                            value={input.height}\n                            name=\"height\"\n                            onChange={(e) => handleChange(e)}\n                        />\n                        {\n                            errors.height ? (\n                                <div>\n                                    <p>{errors.height}</p>\n                                </div>\n                            ) :\n                                input.height.length ? <i>Good</i> : <i>  Empty</i>\n                        }\n\n                    </div>\n                    <div>\n                        <span >Choose up to 2 Pokemon types</span>\n\n                        <div>\n                            {types.map(type => (\n                                <label for={type.name}>\n                                    <div  >\n                                        <input\n                                            type=\"checkbox\"\n                                            id={type.name}\n                                            value={type.name}\n                                            onChange={(e) => handleChecked(e)}\n                                        />\n                                        {type.name}\n                                    </div>\n                                </label>\n                            ))\n                            }\n                        </div>\n\n                        {\n                            errors.types ? (\n                                <div >\n                                    <i></i>\n                                    <span>{errors.types}</span>\n                                </div>\n                            ) :\n                                <i>Select only two</i>\n                        }\n                    </div>\n\n                    <div>\n                        <button type='submit'>Create</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}